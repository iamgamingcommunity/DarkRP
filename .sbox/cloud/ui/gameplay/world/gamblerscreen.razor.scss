@import "../../styles.scss";

GamblerScreen {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	font-family: 'Poppins', sans-serif;
}

.gambler-container {
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	background: linear-gradient(135deg, $color-primary 0%, $color-secondary 50%, #2a1a3e 100%);
	color: $color-white;
	overflow: hidden;
	position: relative;

	&::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		pointer-events: none;
	}
}

.gambler-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: $space-6 $space-8;
	background: rgba(0, 0, 0, 0.3);
	border-bottom: 2px solid $color-accent;
	backdrop-filter: blur(10px);

	.logo {
		font-size: $text-4xl;
		animation: pulse 2s infinite;
	}

	.title {
		font-size: $text-2xl;
		font-weight: bold;
		color: $color-accent;
		text-shadow: 0 0 10px rgba(113, 112, 230, 0.5);
		letter-spacing: 2px;
	}

	.cost-info {
		font-size: $text-lg;
		color: $color-green-400;
		font-weight: bold;
		padding: $space-2 $space-4;
		background: rgba(117, 167, 116, 0.2);
		border-radius: 8px;
		border: 1px solid $color-green-400;
	}
}

.main-content {
	flex: 1;
	display: flex;
	align-items: center;
	justify-content: center;
	flex-direction: column;
	padding: $space-8;
}

// Idle State
.idle-state {
	text-align: center;
	max-width: 600px;
	animation: fadeIn 0.5s ease-in;

	.showcase-section {
		margin-bottom: $space-4;
		padding: $space-6;
		background: rgba(113, 112, 230, 0.1);

		.showcase-label {
			font-size: $text-xl;
			color: $color-accent;
			margin-bottom: $space-3;
		}

		.showcase-reward {
			font-size: $text-xl;
			font-weight: bold;
			text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
		}
	}

	.odds-section {
		margin-bottom: $space-8;

		.odds-title {
			font-size: $text-xl;
			margin-bottom: $space-4;
			color: $color-white;
		}

		.odds-grid {
			gap: $space-4;

			.odd-item {
				padding: $space-4;
				border-radius: 12px;
				text-align: center;
				transition: transform 0.3s ease;

				&:hover {
					transform: scale(1.05);
				}

				.chance {
					font-size: $text-xl;
					font-weight: bold;
					margin-bottom: $space-2;
				}

				.description {
					font-size: $text-sm;
					opacity: 0.8;
				}

				&.rare {
					background: linear-gradient(135deg, #8B5CF6, #A855F7);
					border: 2px solid #8B5CF6;
				}

				&.jackpot {
					background: linear-gradient(135deg, #a59c07, #ba9d1a);
					border: 2px solid #dcd200;
				}

				&.uncommon {
					background: linear-gradient(135deg, #3B82F6, #1D4ED8);
					border: 2px solid #3B82F6;
				}

				&.common {
					background: linear-gradient(135deg, #6B7280, #4B5563);
					border: 2px solid #6B7280;
				}
			}
		}
	}

	.action-prompt {
		.prompt-text {
			font-size: $text-xl;
			margin-bottom: $space-3;
			color: $color-green-400;
			font-weight: bold;
		}

		.instruction {
			font-size: $text-base;
			color: $color-gray-400;
			animation: glow 2s ease-in-out infinite alternate;
		}
	}
}

// Processing State
.processing-state {
	text-align: center;
	animation: fadeIn 0.5s ease-in;

	.spinner-container {
		margin-bottom: $space-6;

		.spinner {
			width: 80px;
			height: 80px;
			border: 4px solid rgba(113, 112, 230, 0.3);
			border-top: 4px solid $color-accent;
			border-radius: 50%;
			animation: spin 1s linear infinite;
			margin: 0 auto;
		}
	}

	.processing-text {
		margin-bottom: $space-6;

		h2 {
			font-size: $text-2xl;
			margin-bottom: $space-3;
			color: $color-accent;
			animation: pulse 1.5s infinite;
		}

		p {
			font-size: $text-lg;
			color: $color-gray-400;
		}
	}

	.current-player {
		font-size: $text-base;
		color: $color-white;
		padding: $space-3 $space-6;
		background: rgba(0, 0, 0, 0.5);
		border-radius: 8px;
	}
}

// Win State
.win-state {
	text-align: center;
	animation: winAnimation 0.8s ease-out;

	.result-icon {
		font-size: 80px;
		margin-bottom: $space-4;
		animation: bounce 1s infinite;
	}

	.result-title {
		font-size: $text-3xl;
		font-weight: bold;
		color: $color-good;
		margin-bottom: $space-6;
		text-shadow: 0 0 15px rgba(23, 114, 49, 0.5);
		animation: glow 1s ease-in-out infinite alternate;
	}

	.win-details {
		margin-bottom: $space-4;

		.win-type {
			font-size: $text-xl;
			font-weight: bold;
			margin-bottom: $space-3;

			&.double {
				color: $color-green-400;
			}

			&.reward {
				color: $color-accent;
			}
		}

		.win-amount, .win-item {
			font-size: $text-2xl;
			color: $color-white;
			padding: $space-4;
			background: rgba(23, 114, 49, 0.3);
			border-radius: 12px;
			border: 2px solid $color-good;
		}
	}

	.winner-name {
		font-size: $text-lg;
		color: $color-white;
		padding: $space-3 $space-6;
		background: rgba(23, 114, 49, 0.2);
		border-radius: 8px;
	}
}

// Lose State
.lose-state {
	text-align: center;
	animation: fadeIn 0.5s ease-in;

	.result-icon {
		font-size: 80px;
		margin-bottom: $space-4;
		animation: shake 0.5s ease-in-out;
	}

	.result-title {
		font-size: $text-2xl;
		font-weight: bold;
		color: $color-bad;
		margin-bottom: $space-6;
		text-shadow: 0 0 15px rgba(147, 16, 16, 0.5);
	}

	.lose-message {
		margin-bottom: $space-6;

		p {
			font-size: $text-lg;
			color: $color-gray-400;
			margin-bottom: $space-2;
		}
	}

	.player-name {
		font-size: $text-base;
		color: $color-white;
		padding: $space-3 $space-6;
		background: rgba(147, 16, 16, 0.2);
		border-radius: 8px;
	}
}

// Out of Service State
.outofservice-state {
	text-align: center;
	animation: fadeIn 0.5s ease-in;

	.service-icon {
		font-size: 80px;
		margin-bottom: $space-4;
		color: #F59E0B;
		animation: flash 1.5s infinite;
	}

	.service-title {
		font-size: $text-2xl;
		font-weight: bold;
		color: #F59E0B;
		margin-bottom: $space-6;
	}

	.service-message {
		p {
			font-size: $text-lg;
			color: $color-gray-400;
			margin-bottom: $space-2;
		}
	}
}

.gambler-footer {
	padding: $space-4 $space-8;
	background: rgba(0, 0, 0, 0.5);
	border-top: 1px solid rgba(255, 255, 255, 0.1);

	.warning {
		text-align: center;
		font-size: $text-sm;
		color: $color-gray-400;
		font-style: italic;
	}
}

// Animations
@keyframes fadeIn {
	from { opacity: 0; transform: translateY(20px); }
	to { opacity: 1; transform: translateY(0); }
}

@keyframes spin {
	0% { transform: rotate(0deg); }
	100% { transform: rotate(360deg); }
}

@keyframes pulse {
	0%, 100% { opacity: 1; }
	50% { opacity: 0.7; }
}

@keyframes glow {
	from { text-shadow: 0 0 5px currentColor; }
	to { text-shadow: 0 0 20px currentColor, 0 0 30px currentColor; }
}

@keyframes bounce {
	0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }
	40%, 43% { transform: translate3d(0, -15px, 0); }
	70% { transform: translate3d(0, -7px, 0); }
	90% { transform: translate3d(0, -2px, 0); }
}

@keyframes winAnimation {
	0% { transform: scale(0.5) rotate(-180deg); opacity: 0; }
	50% { transform: scale(1.1) rotate(-90deg); opacity: 0.8; }
	100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

@keyframes shake {
	0%, 100% { transform: translateX(0); }
	10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
	20%, 40%, 60%, 80% { transform: translateX(5px); }
}

@keyframes flash {
	0%, 50%, 100% { opacity: 1; }
	25%, 75% { opacity: 0.5; }
}
